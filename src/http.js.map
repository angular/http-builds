{"version":3,"sources":["../../../../modules/@angular/http/src/http.ts"],"names":[],"mappings":"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","file":"http.js","sourceRoot":"","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Injectable} from '@angular/core';\nimport {Observable} from 'rxjs/Observable';\nimport {BaseRequestOptions, RequestOptions} from './base_request_options';\nimport {RequestMethod} from './enums';\nimport {ConnectionBackend, RequestOptionsArgs} from './interfaces';\nimport {Request} from './static_request';\nimport {Response} from './static_response';\n/**\n * @param {?} backend\n * @param {?} request\n * @return {?}\n */\nfunction httpRequest(backend: ConnectionBackend, request: Request): Observable<Response> {\n  return backend.createConnection(request).response;\n}\n/**\n * @param {?} defaultOpts\n * @param {?} providedOpts\n * @param {?} method\n * @param {?} url\n * @return {?}\n */\nfunction mergeOptions(\n    defaultOpts: BaseRequestOptions, providedOpts: RequestOptionsArgs, method: RequestMethod,\n    url: string): RequestOptions {\n  const /** @type {?} */ newOptions = defaultOpts;\n  if (providedOpts) {\n    // Hack so Dart can used named parameters\n    return newOptions.merge(new RequestOptions({\n      method: providedOpts.method || method,\n      url: providedOpts.url || url,\n      search: providedOpts.search,\n      params: providedOpts.params,\n      headers: providedOpts.headers,\n      body: providedOpts.body,\n      withCredentials: providedOpts.withCredentials,\n      responseType: providedOpts.responseType\n    }));\n  }\n\n  return newOptions.merge(new RequestOptions({method, url}));\n}\n/**\n * Performs http requests using `XMLHttpRequest` as the default backend.\n * \n * `Http` is available as an injectable class, with methods to perform http requests. Calling\n * `request` returns an `Observable` which will emit a single {\\@link Response} when a\n * response is received.\n * \n * ### Example\n * \n * ```typescript\n * import {Http, HTTP_PROVIDERS} from '\\@angular/http';\n * import 'rxjs/add/operator/map'\n * \\@Component({ \n *   selector: 'http-app',\n *   viewProviders: [HTTP_PROVIDERS],\n *   templateUrl: 'people.html'\n * })\n * class PeopleComponent {\n *   constructor(http: Http) {\n *     http.get('people.json')\n *       // Call map on the response observable to get the parsed people object\n *       .map(res => res.json())\n *       // Subscribe to the observable to get the parsed people object and attach it to the\n *       // component\n *       .subscribe(people => this.people = people);\n *   }\n * }\n * ```\n * \n * \n * ### Example\n * \n * ```\n * http.get('people.json').subscribe((res:Response) => this.people = res.json());\n * ```\n * \n * The default construct used to perform requests, `XMLHttpRequest`, is abstracted as a \"Backend\" (\n * {\\@link XHRBackend} in this case), which could be mocked with dependency injection by replacing\n * the {\\@link XHRBackend} provider, as in the following example:\n * \n * ### Example\n * \n * ```typescript\n * import {BaseRequestOptions, Http} from '\\@angular/http';\n * import {MockBackend} from '\\@angular/http/testing';\n * var injector = Injector.resolveAndCreate([\n *   BaseRequestOptions,\n *   MockBackend,\n *   {provide: Http, useFactory:\n *       function(backend, defaultOptions) {\n *         return new Http(backend, defaultOptions);\n *       },\n *       deps: [MockBackend, BaseRequestOptions]}\n * ]);\n * var http = injector.get(Http);\n * http.get('request-from-mock-backend.json').subscribe((res:Response) => doSomething(res));\n * ```\n * \n * \\@experimental\n */\nexport class Http {\n/**\n * @param {?} _backend\n * @param {?} _defaultOptions\n */\nconstructor(protected _backend: ConnectionBackend, protected _defaultOptions: RequestOptions) {}\n/**\n * Performs any type of http request. First argument is required, and can either be a url or\n * a {\\@link Request} instance. If the first argument is a url, an optional {\\@link RequestOptions}\n * object can be provided as the 2nd argument. The options object will be merged with the values\n * of {\\@link BaseRequestOptions} before performing the request.\n * @param {?} url\n * @param {?=} options\n * @return {?}\n */\nrequest(url: string|Request, options?: RequestOptionsArgs): Observable<Response> {\n    let /** @type {?} */ responseObservable: any;\n    if (typeof url === 'string') {\n      responseObservable = httpRequest(\n          this._backend,\n          new Request(mergeOptions(this._defaultOptions, options, RequestMethod.Get, /** @type {?} */(( <string>url)))));\n    } else if (url instanceof Request) {\n      responseObservable = httpRequest(this._backend, url);\n    } else {\n      throw new Error('First argument must be a url string or Request instance.');\n    }\n    return responseObservable;\n  }\n/**\n * Performs a request with `get` http method.\n * @param {?} url\n * @param {?=} options\n * @return {?}\n */\nget(url: string, options?: RequestOptionsArgs): Observable<Response> {\n    return this.request(\n        new Request(mergeOptions(this._defaultOptions, options, RequestMethod.Get, url)));\n  }\n/**\n * Performs a request with `post` http method.\n * @param {?} url\n * @param {?} body\n * @param {?=} options\n * @return {?}\n */\npost(url: string, body: any, options?: RequestOptionsArgs): Observable<Response> {\n    return this.request(new Request(mergeOptions(\n        this._defaultOptions.merge(new RequestOptions({body: body})), options, RequestMethod.Post,\n        url)));\n  }\n/**\n * Performs a request with `put` http method.\n * @param {?} url\n * @param {?} body\n * @param {?=} options\n * @return {?}\n */\nput(url: string, body: any, options?: RequestOptionsArgs): Observable<Response> {\n    return this.request(new Request(mergeOptions(\n        this._defaultOptions.merge(new RequestOptions({body: body})), options, RequestMethod.Put,\n        url)));\n  }\n/**\n * Performs a request with `delete` http method.\n * @param {?} url\n * @param {?=} options\n * @return {?}\n */\ndelete (url: string, options?: RequestOptionsArgs): Observable<Response> {\n    return this.request(\n        new Request(mergeOptions(this._defaultOptions, options, RequestMethod.Delete, url)));\n  }\n/**\n * Performs a request with `patch` http method.\n * @param {?} url\n * @param {?} body\n * @param {?=} options\n * @return {?}\n */\npatch(url: string, body: any, options?: RequestOptionsArgs): Observable<Response> {\n    return this.request(new Request(mergeOptions(\n        this._defaultOptions.merge(new RequestOptions({body: body})), options, RequestMethod.Patch,\n        url)));\n  }\n/**\n * Performs a request with `head` http method.\n * @param {?} url\n * @param {?=} options\n * @return {?}\n */\nhead(url: string, options?: RequestOptionsArgs): Observable<Response> {\n    return this.request(\n        new Request(mergeOptions(this._defaultOptions, options, RequestMethod.Head, url)));\n  }\n/**\n * Performs a request with `options` http method.\n * @param {?} url\n * @param {?=} options\n * @return {?}\n */\noptions(url: string, options?: RequestOptionsArgs): Observable<Response> {\n    return this.request(\n        new Request(mergeOptions(this._defaultOptions, options, RequestMethod.Options, url)));\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ConnectionBackend, },\n{type: RequestOptions, },\n];\n}\n\nfunction Http_tsickle_Closure_declarations() {\n/** @type {?} */\nHttp.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nHttp.ctorParameters;\n/** @type {?} */\nHttp.prototype._backend;\n/** @type {?} */\nHttp.prototype._defaultOptions;\n}\n\n/**\n * \\@experimental\n */\nexport class Jsonp extends Http {\n/**\n * @param {?} backend\n * @param {?} defaultOptions\n */\nconstructor(backend: ConnectionBackend, defaultOptions: RequestOptions) {\n    super(backend, defaultOptions);\n  }\n/**\n * Performs any type of http request. First argument is required, and can either be a url or\n * a {\\@link Request} instance. If the first argument is a url, an optional {\\@link RequestOptions}\n * object can be provided as the 2nd argument. The options object will be merged with the values\n * of {\\@link BaseRequestOptions} before performing the request.\n * \n * \\@security Regular XHR is the safest alternative to JSONP for most applications, and is\n * supported by all current browsers. Because JSONP creates a `<script>` element with\n * contents retrieved from a remote source, attacker-controlled data introduced by an untrusted\n * source could expose your application to XSS risks. Data exposed by JSONP may also be\n * readable by malicious third-party websites. In addition, JSONP introduces potential risk for\n * future security issues (e.g. content sniffing).  For more detail, see the\n * [Security Guide](http://g.co/ng/security).\n * @param {?} url\n * @param {?=} options\n * @return {?}\n */\nrequest(url: string|Request, options?: RequestOptionsArgs): Observable<Response> {\n    let /** @type {?} */ responseObservable: any;\n    if (typeof url === 'string') {\n      url =\n          new Request(mergeOptions(this._defaultOptions, options, RequestMethod.Get, /** @type {?} */(( <string>url))));\n    }\n    if (url instanceof Request) {\n      if (url.method !== RequestMethod.Get) {\n        throw new Error('JSONP requests must use GET request method.');\n      }\n      responseObservable = httpRequest(this._backend, url);\n    } else {\n      throw new Error('First argument must be a url string or Request instance.');\n    }\n    return responseObservable;\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ConnectionBackend, },\n{type: RequestOptions, },\n];\n}\n\nfunction Jsonp_tsickle_Closure_declarations() {\n/** @type {?} */\nJsonp.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nJsonp.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}